{"ast":null,"code":"var _jsxFileName = \"/Users/olgakanishcheva/Developer/book-editor/client/src/components/AddBookForm.js\";\nimport './../stylesheets/AddBookForm.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { addBook } from './../actions/actions';\nimport validTextInput from './../helpers/validTextInput';\n\nvar AddBookForm = function AddBookForm(props, _ref) {\n  var store = _ref.store;\n  console.warn(props.editBook.title);\n\n  var _title, _publicationDate;\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    var textInputs = [{\n      name: _title,\n      maxLength: 30\n    }];\n    if (!textInputs.every(function (input) {\n      return validTextInput({\n        input: input.name,\n        maxLength: input.maxLength\n      });\n    })) return;\n    store.dispatch(addBook({\n      title: _title.value,\n      publicationDate: +_publicationDate.value\n    }));\n    textInputs.forEach(function (input) {\n      return input.name.value = '';\n    });\n    _publicationDate.value = '';\n\n    _title.focus();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"add-book__host\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"add-book\",\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-book__input__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: function ref(input) {\n      return _title = input;\n    },\n    type: \"text\",\n    className: \"add-book__input\",\n    value: props.editBook.title ? props.editBook.title : '',\n    placeholder: \"Book title...\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"add-book__input__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Publication date:\\xA0\", React.createElement(\"input\", {\n    ref: function ref(input) {\n      return _publicationDate = input;\n    },\n    type: \"number\",\n    className: \"add-book__input\",\n    min: \"1800\",\n    max: \"2019\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"app__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Save\")));\n};\n\nAddBookForm.contextTypes = {\n  store: PropTypes.object\n};\nexport default AddBookForm;","map":{"version":3,"sources":["/Users/olgakanishcheva/Developer/book-editor/client/src/components/AddBookForm.js"],"names":["React","PropTypes","addBook","validTextInput","AddBookForm","props","store","console","warn","editBook","title","_title","_publicationDate","submit","e","preventDefault","textInputs","name","maxLength","every","input","dispatch","value","publicationDate","forEach","focus","contextTypes","object"],"mappings":";AAAA,OAAO,kCAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,QAAsB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AACxCC,EAAAA,OAAO,CAACC,IAAR,CAAaH,KAAK,CAACI,QAAN,CAAeC,KAA5B;;AACA,MAAIC,MAAJ,EACIC,gBADJ;;AAGA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,CAAC,EAAI;AAClBA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAMC,UAAU,GAAG,CAAC;AAClBC,MAAAA,IAAI,EAAEN,MADY;AAElBO,MAAAA,SAAS,EAAE;AAFO,KAAD,CAAnB;AAKA,QAAI,CAACF,UAAU,CAACG,KAAX,CAAiB,UAACC,KAAD;AAAA,aAAWjB,cAAc,CAAC;AAACiB,QAAAA,KAAK,EAAEA,KAAK,CAACH,IAAd;AAAoBC,QAAAA,SAAS,EAAEE,KAAK,CAACF;AAArC,OAAD,CAAzB;AAAA,KAAjB,CAAL,EAAmG;AAEnGZ,IAAAA,KAAK,CAACe,QAAN,CAAenB,OAAO,CAAC;AACrBQ,MAAAA,KAAK,EAAEC,MAAM,CAACW,KADO;AAErBC,MAAAA,eAAe,EAAE,CAAEX,gBAAgB,CAACU;AAFf,KAAD,CAAtB;AAKAN,IAAAA,UAAU,CAACQ,OAAX,CAAmB,UAACJ,KAAD;AAAA,aAAWA,KAAK,CAACH,IAAN,CAAWK,KAAX,GAAmB,EAA9B;AAAA,KAAnB;AACAV,IAAAA,gBAAgB,CAACU,KAAjB,GAAyB,EAAzB;;AACAX,IAAAA,MAAM,CAACc,KAAP;AACD,GAlBD;;AAoBA,SACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAA2B,IAAA,QAAQ,EAAEZ,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,GAAG,EAAE,aAAAO,KAAK;AAAA,aAAIT,MAAM,GAAGS,KAAb;AAAA,KAAjB;AACO,IAAA,IAAI,EAAC,MADZ;AAEO,IAAA,SAAS,EAAC,iBAFjB;AAGO,IAAA,KAAK,EAAEf,KAAK,CAACI,QAAN,CAAeC,KAAf,GAAuBL,KAAK,CAACI,QAAN,CAAeC,KAAtC,GAA8C,EAH5D;AAIO,IAAA,WAAW,EAAC,eAJnB;AAImC,IAAA,QAAQ,MAJ3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEE;AAAO,IAAA,GAAG,EAAE,aAAAU,KAAK;AAAA,aAAIR,gBAAgB,GAAGQ,KAAvB;AAAA,KAAjB;AACO,IAAA,IAAI,EAAC,QADZ;AAEO,IAAA,SAAS,EAAC,iBAFjB;AAGO,IAAA,GAAG,EAAC,MAHX;AAIO,IAAA,GAAG,EAAC,MAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,EAgBE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAhBF,CADF,CADF;AAuBD,CAhDD;;AAkDAhB,WAAW,CAACsB,YAAZ,GAA2B;AACzBpB,EAAAA,KAAK,EAAEL,SAAS,CAAC0B;AADQ,CAA3B;AAIA,eAAevB,WAAf","sourcesContent":["import './../stylesheets/AddBookForm.css'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { addBook } from './../actions/actions'\nimport validTextInput from './../helpers/validTextInput'\n\nconst AddBookForm = (props, { store }) => {\n  console.warn(props.editBook.title)\n  let _title,\n      _publicationDate\n\n  const submit = e => {\n    e.preventDefault()\n\n    const textInputs = [{\n      name: _title,\n      maxLength: 30\n    }]\n\n    if (!textInputs.every((input) => validTextInput({input: input.name, maxLength: input.maxLength}))) return\n\n    store.dispatch(addBook({\n      title: _title.value,\n      publicationDate: +(_publicationDate.value)\n    }))\n    \n    textInputs.forEach((input) => input.name.value = '')\n    _publicationDate.value = ''\n    _title.focus()\n  }\n\n  return (\n    <div className='add-book__host'>\n      <form className='add-book' onSubmit={submit}>\n        <div className='add-book__input__container'>\n          <input ref={input => _title = input}\n                 type='text'\n                 className='add-book__input'\n                 value={props.editBook.title ? props.editBook.title : ''}\n                 placeholder='Book title...' required/>\n        </div>\n        <div className='add-book__input__container'>\n          Publication date:&nbsp;\n          <input ref={input => _publicationDate = input}\n                 type='number'\n                 className='add-book__input'\n                 min='1800'\n                 max='2019' />\n        </div>\n        <button className='app__button'>Save</button>\n      </form>\n    </div>\n  )\n\n}\n\nAddBookForm.contextTypes = {\n  store: PropTypes.object\n}\n\nexport default AddBookForm\n"]},"metadata":{},"sourceType":"module"}