{"ast":null,"code":"var _jsxFileName = \"/Users/olgakanishcheva/Developer/book-editor/client/src/components/AddBookForm.js\";\nimport './../stylesheets/AddBookForm.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { addBook } from './../actions/actions';\nimport validTextInput from './../helpers/validTextInput';\n\nvar AddBookForm = function AddBookForm(props, _ref) {\n  var store = _ref.store;\n\n  var _title, _publicationDate;\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    var textInputs = [{\n      name: _title,\n      maxLength: 30\n    }];\n    if (!textInputs.every(function (input) {\n      return validTextInput({\n        input: input.name,\n        maxLength: input.maxLength\n      });\n    })) return;\n    store.dispatch(addBook({\n      title: _title.value,\n      publicationDate: +_publicationDate.value\n    }));\n    textInputs.forEach(function (input) {\n      return input.name.value = '';\n    });\n    _publicationDate.value = '';\n\n    _title.focus();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"add-book__host\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"add-book\",\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-book__input__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: function ref(input) {\n      return _title = input;\n    },\n    type: \"text\",\n    className: \"add-book__input\",\n    value: props.editBook.title ? props.editBook.title : '',\n    placeholder: \"Book title...\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"add-book__input__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Publication date:\\xA0\", React.createElement(\"input\", {\n    ref: function ref(input) {\n      return _publicationDate = input;\n    },\n    type: \"number\",\n    className: \"add-book__input\",\n    min: \"1800\",\n    max: \"2019\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"app__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Save\")));\n};\n\nAddBookForm.contextTypes = {\n  store: PropTypes.object\n};\nexport default AddBookForm;","map":{"version":3,"sources":["/Users/olgakanishcheva/Developer/book-editor/client/src/components/AddBookForm.js"],"names":["React","PropTypes","addBook","validTextInput","AddBookForm","props","store","_title","_publicationDate","submit","e","preventDefault","textInputs","name","maxLength","every","input","dispatch","title","value","publicationDate","forEach","focus","editBook","contextTypes","object"],"mappings":";AAAA,OAAO,kCAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,QAAsB;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AACxC,MAAIC,MAAJ,EACIC,gBADJ;;AAGA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,CAAC,EAAI;AAClBA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAMC,UAAU,GAAG,CAAC;AAClBC,MAAAA,IAAI,EAAEN,MADY;AAElBO,MAAAA,SAAS,EAAE;AAFO,KAAD,CAAnB;AAKA,QAAI,CAACF,UAAU,CAACG,KAAX,CAAiB,UAACC,KAAD;AAAA,aAAWb,cAAc,CAAC;AAACa,QAAAA,KAAK,EAAEA,KAAK,CAACH,IAAd;AAAoBC,QAAAA,SAAS,EAAEE,KAAK,CAACF;AAArC,OAAD,CAAzB;AAAA,KAAjB,CAAL,EAAmG;AAEnGR,IAAAA,KAAK,CAACW,QAAN,CAAef,OAAO,CAAC;AACrBgB,MAAAA,KAAK,EAAEX,MAAM,CAACY,KADO;AAErBC,MAAAA,eAAe,EAAE,CAAEZ,gBAAgB,CAACW;AAFf,KAAD,CAAtB;AAKAP,IAAAA,UAAU,CAACS,OAAX,CAAmB,UAACL,KAAD;AAAA,aAAWA,KAAK,CAACH,IAAN,CAAWM,KAAX,GAAmB,EAA9B;AAAA,KAAnB;AACAX,IAAAA,gBAAgB,CAACW,KAAjB,GAAyB,EAAzB;;AACAZ,IAAAA,MAAM,CAACe,KAAP;AACD,GAlBD;;AAoBA,SACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAA2B,IAAA,QAAQ,EAAEb,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,GAAG,EAAE,aAAAO,KAAK;AAAA,aAAIT,MAAM,GAAGS,KAAb;AAAA,KAAjB;AACO,IAAA,IAAI,EAAC,MADZ;AAEO,IAAA,SAAS,EAAC,iBAFjB;AAGO,IAAA,KAAK,EAAEX,KAAK,CAACkB,QAAN,CAAeL,KAAf,GAAuBb,KAAK,CAACkB,QAAN,CAAeL,KAAtC,GAA8C,EAH5D;AAIO,IAAA,WAAW,EAAC,eAJnB;AAImC,IAAA,QAAQ,MAJ3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEE;AAAO,IAAA,GAAG,EAAE,aAAAF,KAAK;AAAA,aAAIR,gBAAgB,GAAGQ,KAAvB;AAAA,KAAjB;AACO,IAAA,IAAI,EAAC,QADZ;AAEO,IAAA,SAAS,EAAC,iBAFjB;AAGO,IAAA,GAAG,EAAC,MAHX;AAIO,IAAA,GAAG,EAAC,MAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,EAgBE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAhBF,CADF,CADF;AAuBD,CA/CD;;AAiDAZ,WAAW,CAACoB,YAAZ,GAA2B;AACzBlB,EAAAA,KAAK,EAAEL,SAAS,CAACwB;AADQ,CAA3B;AAIA,eAAerB,WAAf","sourcesContent":["import './../stylesheets/AddBookForm.css'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { addBook } from './../actions/actions'\nimport validTextInput from './../helpers/validTextInput'\n\nconst AddBookForm = (props, { store }) => {\n  let _title,\n      _publicationDate\n\n  const submit = e => {\n    e.preventDefault()\n\n    const textInputs = [{\n      name: _title,\n      maxLength: 30\n    }]\n\n    if (!textInputs.every((input) => validTextInput({input: input.name, maxLength: input.maxLength}))) return\n\n    store.dispatch(addBook({\n      title: _title.value,\n      publicationDate: +(_publicationDate.value)\n    }))\n    \n    textInputs.forEach((input) => input.name.value = '')\n    _publicationDate.value = ''\n    _title.focus()\n  }\n\n  return (\n    <div className='add-book__host'>\n      <form className='add-book' onSubmit={submit}>\n        <div className='add-book__input__container'>\n          <input ref={input => _title = input}\n                 type='text'\n                 className='add-book__input'\n                 value={props.editBook.title ? props.editBook.title : ''}\n                 placeholder='Book title...' required/>\n        </div>\n        <div className='add-book__input__container'>\n          Publication date:&nbsp;\n          <input ref={input => _publicationDate = input}\n                 type='number'\n                 className='add-book__input'\n                 min='1800'\n                 max='2019' />\n        </div>\n        <button className='app__button'>Save</button>\n      </form>\n    </div>\n  )\n\n}\n\nAddBookForm.contextTypes = {\n  store: PropTypes.object\n}\n\nexport default AddBookForm\n"]},"metadata":{},"sourceType":"module"}