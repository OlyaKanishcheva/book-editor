{"ast":null,"code":"var _jsxFileName = \"/Users/olgakanishcheva/Developer/book-editor/client/src/components/AddBookForm.js\";\nimport './../stylesheets/AddBookForm.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { addBook } from './../actions/actions';\nimport validTextInput from './../helpers/validTextInput';\n\nvar AddBookForm = function AddBookForm(props, _ref) {\n  var store = _ref.store;\n\n  var _title, _publicationDate;\n\n  var title = props.editBook.title ? props.editBook.title : '';\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    var textInputs = [{\n      name: _title,\n      maxLength: 30\n    }];\n    if (!textInputs.every(function (input) {\n      return validTextInput({\n        input: input.name,\n        maxLength: input.maxLength\n      });\n    })) return;\n    store.dispatch(addBook({\n      title: _title.value,\n      publicationDate: +_publicationDate.value\n    }));\n    textInputs.forEach(function (input) {\n      return input.name.value = '';\n    });\n    _publicationDate.value = '';\n\n    _title.focus();\n  };\n\n  var changeTitle = function changeTitle(e) {\n    title = _title.value;\n  };\n\n  return React.createElement(\"div\", {\n    className: \"add-book__host\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"add-book\",\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-book__input__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: function ref(input) {\n      return _title = input;\n    },\n    type: \"text\",\n    className: \"add-book__input\",\n    value: title,\n    onChange: function onChange(e) {\n      return changeTitle();\n    },\n    placeholder: \"Book title...\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"add-book__input__container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Publication date:\\xA0\", React.createElement(\"input\", {\n    ref: function ref(input) {\n      return _publicationDate = input;\n    },\n    type: \"number\",\n    className: \"add-book__input\",\n    min: \"1800\",\n    max: \"2019\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"app__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Save\")));\n};\n\nAddBookForm.contextTypes = {\n  store: PropTypes.object\n};\nexport default AddBookForm;","map":{"version":3,"sources":["/Users/olgakanishcheva/Developer/book-editor/client/src/components/AddBookForm.js"],"names":["React","PropTypes","addBook","validTextInput","AddBookForm","props","store","_title","_publicationDate","title","editBook","submit","e","preventDefault","textInputs","name","maxLength","every","input","dispatch","value","publicationDate","forEach","focus","changeTitle","contextTypes","object"],"mappings":"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","sourcesContent":["import './../stylesheets/AddBookForm.css'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { addBook } from './../actions/actions'\nimport validTextInput from './../helpers/validTextInput'\n\nconst AddBookForm = (props, { store }) => {\n  let _title,\n      _publicationDate\n\n  let title = props.editBook.title ? props.editBook.title : ''\n\n  const submit = e => {\n    e.preventDefault()\n\n    const textInputs = [{\n      name: _title,\n      maxLength: 30\n    }]\n\n    if (!textInputs.every((input) => validTextInput({input: input.name, maxLength: input.maxLength}))) return\n\n    store.dispatch(addBook({\n      title: _title.value,\n      publicationDate: +(_publicationDate.value)\n    }))\n    \n    textInputs.forEach((input) => input.name.value = '')\n    _publicationDate.value = ''\n    _title.focus()\n  }\n\n  const changeTitle = e => {\n    title = _title.value\n  }\n\n  return (\n    <div className='add-book__host'>\n      <form className='add-book' onSubmit={submit}>\n        <div className='add-book__input__container'>\n          <input ref={input => _title = input}\n                 type='text'\n                 className='add-book__input'\n                 value={title}\n                 onChange={(e) => changeTitle()}\n                 placeholder='Book title...' required/>\n        </div>\n        <div className='add-book__input__container'>\n          Publication date:&nbsp;\n          <input ref={input => _publicationDate = input}\n                 type='number'\n                 className='add-book__input'\n                 min='1800'\n                 max='2019' />\n        </div>\n        <button className='app__button'>Save</button>\n      </form>\n    </div>\n  )\n\n}\n\nAddBookForm.contextTypes = {\n  store: PropTypes.object\n}\n\nexport default AddBookForm\n"]},"metadata":{},"sourceType":"module"}